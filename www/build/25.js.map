{"version":3,"sources":["../../src/pages/product/checkout/checkout.module.ts","../../src/pages/product/checkout/checkout.ts"],"names":[],"mappings":"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","file":"25.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CheckoutPage } from './checkout';\n\n@NgModule({\n  declarations: [\n    CheckoutPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CheckoutPage),\n  ],\n})\nexport class CheckoutPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/product/checkout/checkout.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, ToastController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { CartsService } from '../../../providers/carts-service/carts-service';\nimport { ProductProvider } from '../../../providers/store/product';\n\n@IonicPage()\n@Component({\n  selector: 'page-checkout',\n  templateUrl: 'checkout.html',\n})\nexport class CheckoutPage {\n  newOrder: any;\n  paymentMethods: any[];\n  paymentMethod: any;\n  billing_shipping_same: boolean;\n  userInfo: any;\n  selectedItems = [];\n\n  constructor(public navCtrl: NavController,\n    private productProvider: ProductProvider, \n    public navParams: NavParams, \n    public alertCtrl: AlertController, \n    public storage: Storage, \n    private cartService: CartsService,\n    public toastCtrl:ToastController) {\n    this.newOrder = {};\n    this.newOrder.billing_detail = {};\n    this.newOrder.shipping = {};\n    this.billing_shipping_same = false;\n    this.newOrder.billing_detail.country_id = '101';\n    this.newOrder.billing_detail.state_name = 'Uttar Pradesh';\n    this.paymentMethods = [\n      { method_id: \"1\", method_title: \"Online Transfer\" },\n      { method_id: \"0\", method_title: \"Cash on Delivery\" }\n    ];\n    this.newOrder.payment_type = this.paymentMethods[0];\n    this.storage.get('me').then((val: any) => {\n      this.newOrder.billing_detail.email_id = val.email_id;\n      this.newOrder.token =val.token;\n      this.userInfo = val;\n    })\n    let items = this.cartService.getCart();\n    for (let obj of items) {\n      this.selectedItems.push({\n        'pr_id': obj.id,\n        \"pr_color\":obj.pr_color,\n        \"pr_size\":obj.pr_size,\n        \"pr_quantity\":obj.count\n      })\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CheckoutPage');\n  }\n  setBillingToShipping() {\n    this.billing_shipping_same = !this.billing_shipping_same;\n\n    if (this.billing_shipping_same) {\n      this.newOrder.shipping = this.newOrder.billing_detail;\n    }\n\n  }\n\n\n  placeOrder() {\n    console.clear()\n    this.newOrder.cart_data = this.selectedItems;\n    console.log(this.newOrder)\n    this.productProvider.save_offline_cart(this.newOrder).subscribe((res:any) =>{\n      console.clear()\n      console.log(res)\n      if(res.status){\n        let alert = this.alertCtrl.create({\n          message: \"Please login to Continue further\",\n          buttons: [\n            // {\n            //   text: \"\",\n            //   role: \"cancel\",\n            //   handler: () => {\n                 \n            //   }\n            // },\n            {\n              text: \"Okay\",\n              handler: () => {\n                this.navCtrl.setRoot(\"MyOrdersPage\");\n              }\n            }\n          ]\n        });\n        alert.present();\n      }\n      else{\n        this.presentToast(res.message)\n      }\n    })\n  }\n  presentToast(msg) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: 3000\n    });\n\n    toast.onDidDismiss(() => {\n      console.log(\"Dismissed toast\");\n    });\n\n    toast.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/product/checkout/checkout.ts"],"sourceRoot":""}