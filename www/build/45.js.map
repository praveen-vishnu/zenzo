{"version":3,"sources":["../../src/pages/auth/register/register.module.ts","../../src/pages/auth/register/register.ts"],"names":[],"mappings":"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","file":"45.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RegisterPage } from './register';\n\n@NgModule({\n  declarations: [\n    RegisterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RegisterPage),\n  ],\n})\nexport class RegisterPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/auth/register/register.module.ts","import { Component,OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators, ValidatorFn,FormArray, } from '@angular/forms';\nimport { IonicPage, NavController, NavParams, ToastController,MenuController } from 'ionic-angular';\nimport { AuthProvider } from '../../../providers/auth/auth';\nimport { COUNTRY_LIST } from '../../../services/constants.service';\nimport { Storage } from '@ionic/storage';\nimport {MyApp} from '../../../app/app.component'\n\n/**\n * Generated class for the RegisterPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info onimage\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html',\n})\nexport class RegisterPage implements OnInit{\nregisterForm: FormGroup;\nuserExist = false;\nuserExist1 = false;\nuser_position: any;\ncountry_code: any = '';\ncountrySelected: boolean = false;\ncountryList = COUNTRY_LIST;\ncats = [{\"id\":\"1\",\"category_name\":\"Store\",\"category_image\":\"http:\\/\\/192.168.1.100:81\\/zomo\\/uploads\\/Store.png\",\"category_status\":\"1\",\"date_only\":\"2019-06-06\"},{\"id\":\"2\",\"category_name\":\"Reseller\",\"category_image\":\"http:\\/\\/192.168.1.100:81\\/zomo\\/uploads\\/Promoter.png\",\"category_status\":\"1\",\"date_only\":\"2019-06-06\"},{\"id\":\"3\",\"category_name\":\"Manufactures\",\"category_image\":\"http:\\/\\/192.168.1.100:81\\/zomo\\/uploads\\/Manufactures.png\",\"category_status\":\"1\",\"date_only\":\"2019-06-06\"},{\"id\":\"4\",\"category_name\":\"Franchise\",\"category_image\":\"http:\\/\\/192.168.1.100:81\\/zomo\\/uploads\\/Franchise.png\",\"category_status\":\"1\",\"date_only\":\"2019-06-06\"}];\n\n  constructor(\n    public navCtrl: NavController, \n    public myApp: MyApp,\n    private storage: Storage,\n    public menuCtrl: MenuController,\n    private auth:AuthProvider,\n    private toastCtrl: ToastController,\n    public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n    console.log('RegisterPage');\n    this.menuCtrl.enable(false, 'authenticated');\n  }\n ngOnInit() {\n \tlet EMAILPATTERN = /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i;\n  this.registerForm = new FormGroup({\n      full_name: new FormControl('', [Validators.required, Validators.minLength(5), Validators.maxLength(30)]),\n      mobile_number: new FormControl('', [Validators.required]),\n      user_name: new FormControl('', [Validators.required, Validators.minLength(5), Validators.maxLength(30)]),\n      email_id: new FormControl('', [Validators.required ,Validators.pattern(EMAILPATTERN)]),\n      password: new FormControl('', [Validators.required, Validators.minLength(6), Validators.maxLength(30)]),\n      country_id: new FormControl('', [Validators.required]),\n      user_position: new FormControl('', [Validators.required]),\n      referral_id: new FormControl('', [Validators.required, Validators.minLength(5), Validators.maxLength(30)]),\n      user_category_id: new FormArray([]),\n     });\n\n   // console.log(this.cats);\n   this.cats.map((o, i) => {\n     const control = new FormControl(i === 0); // if first item set to true, else false\n     (this.registerForm.controls.user_category_id as FormArray).push(control);\n   });\n  }\n\n  gotoLogin(){\n      this.navCtrl.push('LoginPage');\n  }\n  selectTwo(cats,eve){\n    console.clear()\n    console.log(cats)\n    console.log(eve)\n  }\n\n  onSubmit(){\n    console.clear()\n    // this.registerForm.value.user_position = this.user_position;\n    // this.registerForm.value.country_id = this.country_code;\n    const selectedOrderIds = this.registerForm.value.user_category_id\n      .map((v, i) => v ? this.cats[i].id : null)\n      .filter(v => v !== null);\n    this.registerForm.value.user_category_id = selectedOrderIds.toString()\n    this.auth.register(this.registerForm.value).subscribe((res:any)=>{\n      console.log(res)\n      if(res.status){\n        this.storage.set('token', res.message.token);\n        this.get_dashboard(res.message.token);\n        this.registerForm.reset();\n      }\n      else{\n         let toast = this.toastCtrl.create({\n          message: res.message,\n          duration: 3000\n        });\n\n        toast.onDidDismiss(() => {\n          console.log('Dismissed toast');\n        });\n\n        toast.present();\n      }\n    })\n  }\n  get_dashboard(token){\n    console.clear()\n    this.auth.getDash(token).subscribe((res:any)=>{\n      this.myApp.authenticatedMenu = res.status;\n      if(res.status){\n        this.storage.set('me', res.message);\n        console.log(res.message)\n        this.navCtrl.setRoot('HomePage');\n      }\n    })\n  }\n\n  // convenience getter for easy access to form fields\n    get f() { return this.registerForm.controls; }\n\n    get r() { return this.registerForm; }    \n    \n\n\n  checkuser(event) {\n    this.auth.checkUser(event.target.value)\n      .subscribe(\n        (data: any) => {\n          console.clear()\n          console.log(data.status)\n          console.log(data.message)\n          if (data.status) {\n            this.presentToast(data.message);\n            this.userExist = true;\n          }\n          else {\n            this.userExist = false;\n          }\n        },\n        error => {\n          this.presentToast(error);\n        });\n  }\n  checkReferral(event) {\n    this.auth.checkUser(event.target.value)\n      .subscribe(\n        (data: any) => {\n          console.clear()\n          console.log(data.status)\n          console.log(data.message)\n          if (data.status) {\n            this.userExist1 = true;\n          }\n          else {\n            this.userExist1 = false;\n            // this.presentToast(data.message);\n          }\n        },\n        error => {\n          this.presentToast(error);\n        });\n  }      \n\n  presentToast(msg){\n    let toast = this.toastCtrl.create({\n          message: msg,\n          duration: 3000\n        });\n\n        toast.onDidDismiss(() => {\n          console.log('Dismissed toast');\n        });\n\n        toast.present();\n  }\n  selectCountry(event) {\n    console.clear()\n    console.log(event.value)\n    // this.code = ''\n    this.countrySelected = true;\n    // this.renderer.removeClass(this.countryError.nativeElement, 'displayBlock');\n    if(event.value.country_id){\n    console.log(event.value.country_id)\n    this.country_code = event.value.country_id;\n    // this.code = event.value.country_code;\n    console.log(this.country_code)\n    }\n    else{\n      // this.code = ''\n    }\n  }\n\n  selectPosition(event) {\n    console.clear()\n    console.log(event.value)\n    this.user_position = event.value.value;\n    console.log(this.user_position)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/auth/register/register.ts"],"sourceRoot":""}