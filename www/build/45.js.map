{"version":3,"sources":["../../src/pages/auth/login/login.module.ts","../../src/pages/auth/login/login.ts"],"names":[],"mappings":"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","file":"45.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/auth/login/login.module.ts","import { Component, OnInit } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  ToastController,\n  MenuController\n} from \"ionic-angular\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport { AuthProvider } from \"../../../providers/auth/auth\";\nimport { Storage } from \"@ionic/storage\";\nimport { MyApp } from \"../../../app/app.component\";\nimport { UserProductModal } from \"../../sub-options-with-icons/sub-option-one/sub-option-one\";\n/**\n * Generated class for the LoginPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-login\",\n  templateUrl: \"login.html\"\n})\nexport class LoginPage implements OnInit {\n  loginForm: FormGroup;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private storage: Storage,\n    public myApp: MyApp,\n    public menuCtrl: MenuController,\n    private auth: AuthProvider,\n    private toastCtrl: ToastController\n  ) {}\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad LoginPage\");\n    this.menuCtrl.enable(false, \"authenticated\");\n  }\n  ngOnInit() {\n    this.loginForm = new FormGroup({\n      login_id: new FormControl(\"\", [\n        Validators.required,\n        Validators.minLength(5),\n        Validators.maxLength(30)\n      ]),\n      password: new FormControl(\"\", [\n        Validators.required,\n        Validators.minLength(6),\n        Validators.maxLength(20)\n      ])\n    });\n  }\n  gotoRegister() {\n    this.navCtrl.push(\"RegisterPage\");\n  }\n\n  // convenience getter for easy access to form fields\n  get f() {\n    return this.loginForm.controls;\n  }\n\n  onSubmit() {\n    console.log(this.loginForm.value);\n    this.auth.login(this.loginForm.value).subscribe((user: any) => {\n      if (user.status) {\n        this.storage.set(\"token\", user.message.token);\n        this.get_dashboard(user.message.token);\n        localStorage.setItem(\"token\", user.message.token);\n        this.loginForm.reset();\n      } else {\n        let toast = this.toastCtrl.create({\n          message: user.message,\n          duration: 3000\n        });\n\n        toast.onDidDismiss(() => {\n          console.log(\"Dismissed toast\");\n        });\n\n        toast.present();\n      }\n    });\n  }\n  get_dashboard(token) {\n    console.clear();\n    this.auth.getDash(token).subscribe((res: any) => {\n      this.myApp.authenticatedMenu = res.status;\n      if (res.status) {\n       var  user = res.message;\n        this.storage.set(\"me\", res.message);\n        console.log(user);\n        if (this.navParams.get(\"fromProduct\")) {\n          this.navCtrl.setRoot(UserProductModal, {id: this.navParams.get(\"id\")});\n        } else {\n          if (user.email_verify_status == \"0\") {\n            let toast = this.toastCtrl.create({\n              message: \"Please complete the email verification of this account to continue.\",\n              showCloseButton: true,\n              closeButtonText: \"OK\"\n            });\n            toast.onDidDismiss(() => {\n              console.log(\"Dismissed toast\");\n            });\n            toast.present();\n            this.navCtrl.setRoot(\"EditProfilePage\");\n        }\n        else {\n           if (user.key_activated_status == \"0\") {\n            this.navCtrl.setRoot(\"ActivateKeyPage\");\n            let toast = this.toastCtrl.create({\n              message: \"Please provide a E-Pin Code to activate your account and start receiving the ROI and other referral benefits\",\n              showCloseButton: true,\n              closeButtonText: \"OK\"\n            });\n            toast.onDidDismiss(() => {\n              console.log(\"Dismissed toast\");\n            });\n            toast.present();\n        }\n        else {\n          this.navCtrl.setRoot(\"HomePage\");\n        }\n        }\n         \n        }\n      }\n    });\n  }\n\n  gotoForgot() {\n    this.navCtrl.push(\"ForgotPage\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/auth/login/login.ts"],"sourceRoot":""}