<!--
   Generated template for the ReferralEarningsPage page.
   
   See http://ionicframework.com/docs/components/#navigation for more info on
   Ionic pages and navigation.
   -->
<ion-header>
   <ion-navbar color="primary">
      <button ion-button menuToggle>
         <ion-icon name="menu"></ion-icon>
      </button>
      <ion-title>Referral Earnings</ion-title>
   </ion-navbar>
</ion-header>
<ion-content padding>
   <div class="dt-root">
      <div>
         <div class="row">
            <div col-6>
               <div class="card dt-card__full-height">
                  <!-- Card Body -->
                  <div class="card-body p-3 bg-gradient-blueberry">
                     <div class="row" >
                        <div class="col-md-12" padding-left>
                           <i class="fa fa-money  faa-horizontal animated" style="font-size: 30px; margin-bottom: 10px;" aria-hidden="true"></i>
                           <div class="row" padding-left>
                              <!-- <div col-6>
                                 <p>Total Earning</p>
                                 <p class="display-3 mb-2">{{earning_reports.length}}</p>
                                 </div> -->
                              <div col-6>
                                 <p>Earnings</p>
                                 <p class="display-4 mb-2">{{overview?.direct_referral_income}}</p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <!-- /card body -->
               </div>
            </div>
            <div col-6>
               <div class="card dt-card__full-height">
                  <!-- Card Body -->
                  <div class="card-body p-3 bg-gradient-purple" padding-left>
                     <h5 style="color: #fff;">Todays Earning</h5>
                     <div class="row" padding-left>
                        <div col-6>
                           <p>Users</p>
                           <p class="display-3 mb-2">{{overview?.todays_refferals}}</p>
                        </div>
                        <div col-6>
                           <p>Earnings</p>
                           <p class="display-4 mb-2">{{wallet_income_overview.today_direct_referral_income}}</p>
                        </div>
                     </div>
                  </div>
                  <!-- /card body -->
               </div>
            </div>
         </div>
      </div>
      <div class="dt-card">
         <!-- Card Body -->
         <div class="dt-card__body">
            <h4>Referral Earning Report</h4>
            <!-- Tables -->
            <div class="table-responsive">
               <table id="data-table" class="table table-striped table-bordered table-hover">
                  <thead>
                     <tr>
                        <th>#</th>
                        <th>Date</th>
                        <th>User(User ID)</th>
                        <th>Position</th>
                        <th>Type of Income(%)</th>
                        <th>Earning(USD)</th>
                     </tr>
                  </thead>
                  <tbody *ngIf="getArray(earning_reports)">
                     <tr class="gradeX" *ngFor="let report of earning_reports; let i = index">
                        <td>{{i+1}}</td>
                        <td>{{report.date_n_time | date:'MMM d, y, h:mm a'}}</td>
                        <td>{{report.full_name}}({{report.user_name}})</td>
                        <td *ngIf="report.user_position == 'L'">Left</td>
                        <td *ngIf="report.user_position == 'R'">Right</td>
                        <td>{{ getparseFloat( report.commission_percentage )}}</td>
                        <td>{{ getparseFloat( report.commission_amount )}} $</td>
                     </tr>
                  </tbody>
                  <tbody *ngIf="!getArray(earning_reports)">
                     <tr class="gradeX text-center">
                        <td colspan="6">No Records Found</td>
                     </tr>
                  </tbody>
               </table>
            </div>
            <!-- /tables -->
         </div>
         <!-- /card body -->
      </div>
   </div>
</ion-content>