{"version":3,"sources":["../../src/pages/retail-brands/brands-search/brands-search.module.ts","../../src/pages/retail-brands/brands-search/brands-search.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BrandsSearchPage } from './brands-search';\n\n@NgModule({\n  declarations: [\n    BrandsSearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BrandsSearchPage),\n  ],\n})\nexport class BrandsSearchPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/retail-brands/brands-search/brands-search.module.ts","import {  Component, Renderer, ElementRef,ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\nimport { StoreProvider } from '../../../providers/store/store';\nimport { Storage } from '@ionic/storage';\nimport { parsePhoneNumberFromString } from 'libphonenumber-js'\nimport { COUNTRY_LIST } from '../../../services/constants.service';\n/**\n * Generated class for the BrandsSearchPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-brands-search',\n  templateUrl: 'brands-search.html',\n})\nexport class BrandsSearchPage {\n  @ViewChild('filterpart') filter: ElementRef; \n  storelist;\n  storelistbackup;\n  category: any = [];\n  searchstore: any;\n  searchText: any;\n  searchLocationText: any;  \n  city = '';\n  showFilter:boolean=true;\n  public searchTerm: string = \"\";\n\n  constructor(\n    private renderer: Renderer, \n    private el: ElementRef,\n    public navCtrl: NavController,\n    public toastCtrl: ToastController, \n    private storage: Storage,\n    public navParams: NavParams,\n    private storeProvider:StoreProvider) {\n\n    this.storeProvider.getCategoryList().subscribe(\n   (data:any) => {\n        console.log(data);\n        if(data.status){\n          this.category = data.message\n        }\n      }\n    )\n    \n    \n    this.storeProvider.getStoreList().subscribe(\n   (data1:any) => {\n        console.log(data1);\n        var tempCat= [];\n        if(data1.status){\n          this.storelist = data1.message;\n          this.storelist.forEach(ele =>{\n          var value = this.category.find(item => item.id == ele.store_category_id)\n          if (tempCat.includes(value) === false) tempCat.push(value);\n          });\n          console.log(tempCat);\n          this.category = tempCat;\n          this.storelistbackup = data1.message;\n        }\n      }\n    )\n    \n    \n  //   this.storeProvider.getLocation().subscribe(\n   // (resp1:any) => {\n  //       console.log(resp1);\n  //       this.storeProvider.searchStore(resp1.message.city).subscribe(\n    //  (data1:any) => {\n   //        console.log(data1);\n   //        if(data1.status){\n   //          this.storelist = data1.message;\n   //          this.storelistbackup = data1.message;\n   //        }\n   //      }\n   //    )\n  //     }\n  //   )\n    \n  }\n\n\n    filterStore(searchTerm) {\n      this.storelist = this.storelistbackup;\n    return this.storelist.filter(item => {\n      return item.store_name.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1;\n    });\n  }\n\n  setFilteredItems(){\n     this.storelist = this.filterStore(this.searchTerm); \n  }\n  goToStore(name){\n    this.navCtrl.push('SubOptionOnePage',{name:name})\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad BrandsSearchPage');\n  }\n\n  reviewRatings(val) {\n    var rating = [];\n    for (var i = 0; i < parseInt(val); i++) {\n      rating.push('star')\n    }\n    return rating;\n  }\n\npresentPopover() {\n \n  if(this.showFilter){\n    this.renderer.setElementClass(this.filter['_elementRef'].nativeElement, 'hide-filter',false);\n     this.showFilter = !this.showFilter;\n  }\n  else{\n    this.renderer.setElementClass(this.filter['_elementRef'].nativeElement, 'hide-filter',true);\n     this.showFilter = !this.showFilter;\n  }\n}\nhideFilter(eve?){\n  console.log(eve)\n  console.log(\"adsdasda\")\n this.showFilter = false; \n  this.renderer.setElementClass(this.filter['_elementRef'].nativeElement, 'hide-filter',true);\n}\n\n  filterCats(id, eve) {\n    console.log(eve.target.checked)\n    console.log(this.storelistbackup.filter(cat => cat.id == id))\n    if (eve.target.checked) {\n      this.storelist = this.storelistbackup.filter(cat => cat.id == id)\n    } else {\n      this.storelist = this.storelistbackup;\n    }\n  }\n\n  change() {\n    console.clear()\n    var modelCbs = document.querySelectorAll(\".categories_search_block input[type='checkbox']\");\n    var filters = {\n      models: getClassOfCheckedCheckboxes(modelCbs)\n    };\n\n    filterResults(filters);\n    console.log(modelCbs);\n\n    function getClassOfCheckedCheckboxes(checkboxes) {\n      var classes = [];\n      if (checkboxes && checkboxes.length > 0) {\n        for (var i = 0; i < checkboxes.length; i++) {\n          var cb = checkboxes[i];\n\n          if (cb.checked) {\n            classes.push(cb.getAttribute(\"name\"));\n          }\n        }\n      }\n\n      return classes;\n    }\n\n    function filterResults(filters) {\n      var rElems = ( < HTMLScriptElement[] > < any > document.querySelectorAll(\".result .storelistItems\"));\n      var hiddenElems = [];\n      if (!rElems || rElems.length <= 0) {\n        return;\n      }\n\n      for (var i = 0; i < rElems.length; i++) {\n        var el = rElems[i];\n        console.log(rElems[i])\n\n        if (filters.models.length > 0) {\n          var isHidden = true;\n\n          for (var j = 0; j < filters.models.length; j++) {\n            var filter = filters.models[j];\n\n            if (el.classList.contains(filter)) {\n              isHidden = false;\n              break;\n            }\n          }\n\n          if (isHidden) {\n            hiddenElems.push(el);\n          }\n        }\n\n      }\n\n      for (var i = 0; i < rElems.length; i++) {\n        rElems[i].style.display = \"block\";\n      }\n\n      if (hiddenElems.length <= 0) {\n        return;\n      }\n\n      for (var i = 0; i < hiddenElems.length; i++) {\n        hiddenElems[i].style.display = \"none\";\n      }\n    }\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/retail-brands/brands-search/brands-search.ts"],"sourceRoot":""}